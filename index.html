<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thai Law Data - Direct JSON Access</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <h1>Thai Law Data</h1>
    
    <!-- Filter Section -->
    <div class="filter-section">
        <h2>Advanced Filter</h2>
        <input type="number" id="filterId" placeholder="ID">
        <input type="text" id="filterTitle" placeholder="Title contains...">
        <input type="text" id="filterContent" placeholder="Content contains...">
        <select id="codeType">
            <!-- Options will be populated dynamically from config -->
        </select>
        <button onclick="advancedFilter()">Advanced Filter</button>
    </div>

    <!-- Pagination Controls -->
    <div class="pagination" id="paginationTop" style="display: none;">
        <label for="pageSize">Items per page:</label>
        <select id="pageSize" onchange="changePageSize()">
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="20">20</option>
            <option value="50">50</option>
            <option value="all">All</option>
        </select>
        <button onclick="goToPage(1)" id="firstBtn">First</button>
        <button onclick="previousPage()" id="prevBtn">Previous</button>
        <span class="page-info" id="pageInfo">Page 1 of 1</span>
        <button onclick="nextPage()" id="nextBtn">Next</button>
        <button onclick="goToPage(totalPages)" id="lastBtn">Last</button>
    </div>

    <!-- Results Section -->
    <div id="results"></div>

    <!-- Pagination Controls (Bottom) -->
    <div class="pagination" id="paginationBottom" style="display: none;">
        <button onclick="goToPage(1)" id="firstBtnBottom">First</button>
        <button onclick="previousPage()" id="prevBtnBottom">Previous</button>
        <span class="page-info" id="pageInfoBottom">Page 1 of 1</span>
        <button onclick="nextPage()" id="nextBtnBottom">Next</button>
        <button onclick="goToPage(totalPages)" id="lastBtnBottom">Last</button>
    </div>

    <!-- Data Information -->
    <h2>About This Repository:</h2>
    <p>This repository provides Thai law data as raw JSON files. There are no API endpoints - just direct access to static JSON files that you can fetch and process client-side.</p>
    <div class="api-info">
        <h3>Simple and Direct</h3>
        <p>No API complexity - just fetch the raw JSON files and filter/sort as needed:</p>
        <ul>
            <li>âœ… Direct access to raw JSON data</li>
            <li>âœ… Filter, search, sort client-side</li>
            <li>âœ… CORS enabled for cross-origin requests</li>
            <li>âœ… No server required - pure static files</li>
        </ul>
        
        <h3>Example Usage:</h3>
        <pre><code>fetch('api/civil_and_commercial_code.json')
  .then(res => res.json())
  .then(data => {
    const items = data.civil_and_commercial_code;
    // Filter, sort, or search as needed
    console.log(items);
  });</code></pre>
        
        <p><a href="API_DOCUMENTATION.md">ðŸ“– View Documentation</a> | <a href="README.md">ðŸ“š View README</a> | <a href="api-example.html">ðŸ’» Try Live Examples</a></p>
    </div>

    <!-- Direct Links -->
    <h2>Direct JSON File Access:</h2>
    <ul id="directLinks">
        <!-- Links will be populated dynamically from config -->
    </ul>

    <!-- Register Service Worker for CORS -->
    <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/thai-law-data/sw.js')
        .then(reg => console.log('Service Worker registered for CORS support', reg))
        .catch(err => console.error('Service Worker registration failed', err));
    }
    </script>

    <script src="js/config-loader.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
